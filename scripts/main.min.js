"use strict";if($("#back-to-top").length){var scrollTrigger=100,backToTop=function(){var e=$(window).scrollTop();e>scrollTrigger?$("#back-to-top").addClass("show"):$("#back-to-top").removeClass("show")};backToTop(),$(window).on("scroll",function(){backToTop()}),$("#back-to-top").on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},700)})}$(document).ready(function(){function e(){setTimeout(function(){$(".swiper-nw").length&&o.update(),$(".swiper-fl").length&&s.update(),$(".swiper-dir").length&&l.update(),$(".swiper-full").length&&a.update(),$(".swiper-fullmob").length&&t.update()},500)}$("ul.tabs__caption").on("click","li:not(.active)",function(){$(this).addClass("active").siblings().removeClass("active").closest("div.tabs").find("div.tabs__content").removeClass("active").eq($(this).index()).addClass("active")}),$(function(){function e(){p=Math.round(a.width()-10),console.log("availableSpace:"+p),d=a.children().length,c=Math.round(r[d-1]),console.log("requiredSpace:"+c),c>p?(a.children().last().prependTo(o),d-=1,e()):p>r[d]&&(o.children().first().appendTo(a),d+=1),n.attr("count",s-d),d===s?n.addClass("hidden"):n.removeClass("hidden")}function i(){window.outerWidth<=1365&&setTimeout(function(){e()},500)}var n=$(".overflow-trigger"),a=$(".greedy-links"),t=$(".overflow-main"),o=$(".overflow-main .overflow"),s=0,l=0,r=[];a.children().outerWidth(function(e,i){l+=i,s+=1,r.push(l)});var p,d,c;$(window).resize(function(){i()}),$(window).on("orientationchange",function(){i()}),i(),setTimeout(function(){$(".greedy").css("opacity","1")},700),n.on("click",function(){t.toggleClass("hidden"),$(window).width()<768&&$("body").addClass("fixed")}),$(".overflow-close--js").on("click",function(){t.addClass("hidden"),$("body").removeClass("fixed")})}),$(".page-header__search--js").click(function(){$(".mainsearch").toggleClass("active")}),$(".mainsearch-close--js").click(function(){$(".mainsearch").removeClass("active")}),$(".showhide-txt--js").click(function(){$(this).toggleClass("active"),$(".white-popup-inner").toggleClass("hideme")}),$(".accordion__link--js").click(function(){$(this).parent().toggleClass("active").siblings().removeClass("active").find(".accordion-body").slideUp(),$(this).next().slideToggle()}),$(".addpopup").click(function(){return $("#letter-id").addClass("active"),$(".popup-background").addClass("active"),$("body").addClass("fixed"),!1}),$(".popup-background, .popup-close--js").click(function(){return $("#letter-id").removeClass("active"),$(".popup-background").removeClass("active"),$("body").removeClass("fixed"),!1}),$("[name=phone]").mask("+7 (999)999-99-99");var i=$(".media-catalog").data("count");if(i){var n=$(".media-catalog .catalog__item").length;$(".media-catalog .catalog__item").hide(),$(".media-catalog .catalog__item:lt("+i+")").show(),$(".loadmore--js").click(function(){i=i+4<=n?i+4:n,$(".media-catalog .catalog__item:lt("+i+")").show(),i===n&&$(".loadmore--js").hide()})}$(".switch input").click(function(){this.checked?($(".project-map").show(),$(".project-list").hide()):($(".project-map").hide(),$(".project-list").show())});var a=(new Swiper(".swiper",{slidesPerView:"auto",spaceBetween:80,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{767:{spaceBetween:20}}}),new Swiper(".swiper-full",{slidesPerView:2,loop:!0,pagination:{el:".swiper-paginationf",clickable:!0}})),t=new Swiper(".swiper-fullmob",{slidesPerView:1,loop:!0,pagination:{el:".swiper-paginationfl",type:"fraction"},navigation:{nextEl:".swiper-buttonfl-next",prevEl:".swiper-buttonfl-prev"}}),o=(new Swiper(".swiper-sl",{slidesPerView:3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1700:{slidesPerView:2},767:{slidesPerView:1}}}),new Swiper(".swiper-nw",{slidesPerView:1,loop:!0,pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})),s=new Swiper(".swiper-fl",{slidesPerView:1,loop:!0,pagination:{el:".swiper-paginationfl",type:"fraction"},navigation:{nextEl:".swiper-buttonfl-next",prevEl:".swiper-buttonfl-prev"}}),l=new Swiper(".swiper-dir",{slidesPerView:1,loop:!0,spaceBetween:20,pagination:{el:".swiper-paginationdir",type:"fraction"},navigation:{nextEl:".swiper-buttondir-next",prevEl:".swiper-buttondir-prev"}});$(".tumb .swiper-slide").click(function(){var e=$(this).data("slide");galleryTop.slideTo(parseInt(e-1),1e3,!0)}),$(".popup-youtube").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".popup-modal").magnificPopup({type:"inline",preloader:!1,showCloseBtn:!1,callbacks:{open:function(){$("body").css("overflow","hidden")},change:function(){setTimeout(function(){new Swiper(".swiper-pop",{slidesPerView:1,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})},100)}}}),$(".popup-gallery").on("click",function(){$(this).find(".gallery").magnificPopup("open")}),$(".gallery").each(function(){$(this).magnificPopup({delegate:"a",type:"image",tLoading:"Загрузка изображения #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})}),$(document).on("click",".popup-dismiss",function(e){e.preventDefault(),$.magnificPopup.close()}),$("#fullpage").fullpage({anchors:["firstPage","secondPage","3rdPage","4thpage","5thpage"],navigation:!0,navigationPosition:"left",navigationTooltips:["Главная","История","Направления деятельности","Новости","Партнеры"],afterRender:function(){$("#fp-nav").append('<span class="arrow arrowUp"></span><span class="arrow arrowDown"></span>'),setTimeout(function(){o.update(),s.update(),l.update(),a.update(),t.update()},100)}}),$(".arrowUp").click(function(){$.fn.fullpage.moveSectionUp()}),$(".arrowDown").click(function(){$.fn.fullpage.reBuild()}),$(window).resize(function(){e()}),$(window).on("orientationchange",function(){e()})}),Dropzone.autoDiscover=!1,jQuery(document).ready(function(){$("#my-awesome-dropzone").dropzone({url:"upload.php",addRemoveLinks:!0,acceptedFiles:".pdf,.doc,.docx",createImageThumbnails:!1,chunkSize:!1,maxFiles:1,dictCancelUpload:"Отменить загрузку",dictRemoveFile:"Удалить файл",dictDefaultMessage:'<img src="images/plus.png" alt=""><div>Нажмите,  чтобы добавить файл</div>',previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress" data-dz-uploadprogress data-progress="0"><div class="circle">\n<div class="mask full">\n\t\t\t<div class="fill"></div>\n\t\t</div>\n\t\t<div class="mask half">\n\t\t\t<div class="fill"></div>\n\t\t\t<div class="fill fix"></div>\n\t\t</div>\n\t</div>\n\t<div class="inset">\n\t\t<div class="percentage">\n<span>66</span></div>\n\t</div></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n <img src=\'images/success.png\', alt=\'\'> Ваш файл успешно загружен\n  </div>\n  <div class="dz-error-mark">\n<i class=\'icon-close\'></i> Ваш файл не загружен\n  </div>\n</div>',success:function(e,i){e.previewElement.classList.add("dz-success")},uploadprogress:function(e,i,n){if(e.previewElement.classList.add("dz-uploadprogress"),e.previewElement){var a=e.previewElement.querySelector("[data-dz-uploadprogress]"),t=Math.round(i);a.setAttribute("data-progress",t+""),a.querySelector(".percentage span").innerHTML=t+"% <br><span>загружено</span>",100==t&&e.previewElement.classList.remove("dz-uploadprogress")}},error:function(e,i){e.previewElement.classList.add("dz-error")},complete:function(e,i){setTimeout(function(){e.previewElement.classList.add("dz-complete")},1e3)}})}),moment.locale("ru");var field=document.getElementById("datepicker"),picker=new Pikaday({field:field,position:"bottom right",trigger:document.getElementById("datepicker-button"),i18n:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:moment.localeData()._weekdays,weekdaysShort:moment.localeData()._weekdaysShort},onSelect:function(e){field.value=moment(e).format("YYYY MMMM DD")}});